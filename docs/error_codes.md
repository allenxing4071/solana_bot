# 错误码参考文档

本文档列出了系统中可能出现的错误码，及其解释和解决方案。

## 错误码格式

错误码格式为 `E{模块代码}{错误类型}{错误ID}`，例如 `ENET001`。

- 模块代码：标识错误发生的模块
  - NET: 网络相关
  - CFG: 配置相关
  - TRD: 交易相关
  - MEM: 内存相关
  - API: API服务相关
  - SEC: 安全相关
  - SYS: 系统相关

- 错误类型：
  - 0xx: 一般错误
  - 1xx: 连接错误
  - 2xx: 认证错误
  - 3xx: 资源错误
  - 4xx: 交易错误
  - 5xx: 内部错误

## 网络错误 (NET)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| ENET101 | RPC连接失败 | RPC节点不可用或URL错误 | 检查RPC URL是否正确；尝试使用备用RPC节点 |
| ENET102 | WebSocket连接断开 | 网络不稳定或WebSocket地址错误 | 检查WebSocket URL；确保网络稳定；系统会自动重连 |
| ENET103 | RPC请求超时 | RPC节点响应慢或网络拥堵 | 增加超时时间设置；使用更快的RPC节点 |
| ENET104 | RPC节点流量限制 | 达到RPC节点的请求限制 | 减少请求频率；使用付费RPC服务；添加多个RPC节点进行负载均衡 |
| ENET105 | DNS解析失败 | DNS服务器问题或域名错误 | 检查域名是否正确；尝试使用IP地址直接连接 |

## 配置错误 (CFG)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| ECFG001 | 缺少必要配置 | 未设置必需的环境变量或配置项 | 检查.env文件中是否设置了所有必需参数 |
| ECFG002 | 配置值无效 | 配置项格式错误或值超出允许范围 | 参考文档修正配置值 |
| ECFG003 | 配置文件不存在 | 指定的配置文件不存在 | 创建所需的配置文件或使用默认配置 |
| ECFG004 | 配置文件格式错误 | JSON/YAML格式错误 | 验证配置文件格式 |
| ECFG005 | 私钥格式错误 | 提供的钱包私钥格式不正确 | 确保私钥格式符合Solana标准 |

## 交易错误 (TRD)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| ETRD401 | 交易构建失败 | 参数错误或交易格式问题 | 检查交易参数；查看详细日志 |
| ETRD402 | 交易签名失败 | 私钥问题或签名过程错误 | 验证私钥是否正确；检查钱包权限 |
| ETRD403 | 交易广播失败 | 网络问题或RPC节点拒绝 | 重试交易或更换RPC节点 |
| ETRD404 | 交易确认超时 | 网络拥堵或优先级费用不足 | 增加超时时间；提高优先级费用 |
| ETRD405 | 交易被拒绝 | 交易不符合共识规则或验证失败 | 检查交易参数；查看详细错误日志 |
| ETRD406 | 余额不足 | 钱包SOL余额不足支付交易 | 添加更多SOL到钱包 |
| ETRD407 | 滑点超出限制 | 市场价格变动过大 | 调整滑点设置或等待市场稳定 |
| ETRD408 | 流动性不足 | 交易池流动性不足以执行交易 | 减少交易金额或选择其他交易对 |
| ETRD409 | 代币账户不存在 | 尝试交易的代币账户未创建 | 系统会自动创建代币账户，检查是否有足够SOL |

## 内存错误 (MEM)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| EMEM301 | 内存使用超限 | 处理数据量过大或内存泄漏 | 增加NODE_OPTIONS中的内存限制；重启服务 |
| EMEM302 | 磁盘空间不足 | 日志文件过大或磁盘已满 | 清理日志；增加存储空间；启用日志轮转 |
| EMEM303 | 缓存写入失败 | 磁盘权限或空间问题 | 检查磁盘权限和可用空间 |

## API服务错误 (API)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| EAPI101 | API服务启动失败 | 端口被占用或权限问题 | 更改API端口或关闭占用端口的服务 |
| EAPI201 | 认证失败 | API密钥错误或未提供 | 提供正确的API密钥 |
| EAPI202 | 访问被拒绝 | 请求IP不在白名单或超出访问限制 | 检查IP白名单设置；等待限制重置 |
| EAPI501 | 内部服务错误 | API处理过程中发生异常 | 查看服务器日志获取详细信息 |

## 安全错误 (SEC)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| ESEC201 | 加密失败 | 加密密钥不可用或格式错误 | 检查加密密钥设置 |
| ESEC202 | 解密失败 | 密文被损坏或密钥错误 | 验证密钥和密文完整性 |
| ESEC203 | 私钥文件访问失败 | 文件权限问题或路径错误 | 检查文件权限和路径 |

## 系统错误 (SYS)

| 错误码 | 描述 | 可能原因 | 解决方案 |
|--------|------|----------|----------|
| ESYS001 | 未知系统错误 | 系统内部异常 | 检查日志获取详细信息；重启服务 |
| ESYS002 | 线程崩溃 | Node.js进程异常终止 | 检查日志中的错误堆栈；可能需要修复代码 |
| ESYS003 | 文件系统错误 | 文件读写权限问题 | 检查文件和目录权限 |
| ESYS004 | 进程启动失败 | 系统资源不足或配置错误 | 减少其他进程占用；检查系统资源使用情况 |
| ESYS005 | 依赖服务不可用 | 外部服务不可用或连接失败 | 确认外部服务状态；检查网络连接 |

## 如何报告新错误

如果您遇到上述未列出的错误码，请按以下格式向项目维护者报告：

1. 错误码和完整错误消息
2. 错误发生时间
3. 操作系统和Node.js版本
4. 重现步骤（如果可能）
5. 相关日志文件（请删除敏感信息）

通过Issue或邮件发送至: support@your-project.com 