<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>流动性池 - Solana MEV机器人</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/fix.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="icon" type="image/png" href="img/favicon.png">
    
    <!-- 环境配置 -->
    <script id="env-config" type="application/json">
    {
        "environment": "production",
        "dataSource": {
            "useMockData": false
        }
    }
    </script>
    
    <!-- 全局配置和工具库 -->
    <script src="config.js"></script>
</head>
<body class="dark-theme">
    <div class="dashboard-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="img/logo.svg" alt="Logo" class="logo">
                <h2>Solana MEV机器人</h2>
            </div>
            <div class="sidebar-content">
                <!-- 导航菜单 -->
                <nav class="sidebar-nav">
                    <ul>
                        <li><a href="index.html"><i class="icon-dashboard"></i> 仪表盘</a></li>
                        <li class="active"><a href="pools.html"><i class="icon-pools"></i> 流动性池</a></li>
                        <li><a href="tokens.html"><i class="icon-tokens"></i> 代币监控</a></li>
                        <li><a href="trades.html"><i class="icon-trades"></i> 交易记录</a></li>
                        <li><a href="memory.html"><i class="icon-memory"></i> 内存监控</a></li>
                        <li><a href="settings.html"><i class="icon-settings"></i> 设置</a></li>
                    </ul>
                </nav>
                
                <!-- 系统状态 - 现在位于底部 -->
                <div class="status-wrapper">
                    <div class="bot-status">
                        <span class="status-indicator status-stopped"></span>
                        <span id="statusText">系统已停止</span>
                    </div>
                    <div class="bot-controls">
                        <button class="btn btn-primary btn-sm" id="startBtn">
                            <i class="icon-play"></i>
                            启动
                        </button>
                        <button class="btn btn-danger btn-sm" id="stopBtn" disabled>
                            <i class="icon-stop"></i>
                            停止
                        </button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 主内容区域 -->
        <main class="main-content">
            <header>
                <div class="header-title">
                    <h1>流动性池</h1>
                </div>
                <div class="user-actions">
                    <div class="date-time" id="currentDateTime">
                        加载中...
                    </div>
                </div>
            </header>

            <!-- 系统消息区域 -->
            <div id="systemMessages" class="system-messages">
                <!-- 这里会显示系统消息 -->
            </div>

            <!-- 筛选和搜索工具栏 -->
            <div class="filter-toolbar">
                <div class="search-box">
                    <input type="text" placeholder="搜索池子..." class="search-input">
                </div>
                <div class="filter-options">
                    <select class="filter-select" aria-label="选择交易所">
                        <option value="all">所有DEX</option>
                        <option value="raydium">Raydium</option>
                        <option value="orca">Orca</option>
                        <option value="jupiter">Jupiter</option>
                    </select>
                    <select class="filter-select" aria-label="排序方式">
                        <option value="volume">按交易量</option>
                        <option value="liquidity">按流动性</option>
                        <option value="apy">按APY</option>
                    </select>
                    <button class="btn btn-primary btn-sm" id="refreshBtn">
                        <i class="icon-refresh"></i>
                        刷新数据
                    </button>
                </div>
            </div>
            
            <!-- 流动性池统计 -->
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-icon pool-icon"></div>
                    <div class="stat-info">
                        <h3>监控池子总数</h3>
                        <p id="totalPools">0</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon liquidity-icon"></div>
                    <div class="stat-info">
                        <h3>总锁定价值</h3>
                        <p id="totalValue">$0</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon volume-icon"></div>
                    <div class="stat-info">
                        <h3>平均日交易量</h3>
                        <p id="avgVolume">$0</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon network-icon"></div>
                    <div class="stat-info">
                        <h3>最活跃DEX</h3>
                        <p id="mostActiveDex">--</p>
                    </div>
                </div>
            </div>

            <!-- 流动性池列表 -->
            <div class="table-container">
                <div class="panel-header">
                    <h3>流动性池列表</h3>
                    <span id="lastUpdated" class="last-updated">--</span>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>池子</th>
                            <th>DEX</th>
                            <th>流动性</th>
                            <th>24h交易量</th>
                            <th>APY</th>
                            <th>价格</th>
                            <th>价格变化</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="poolsTableBody">
                        <!-- 示例数据行 -->
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center;">
                                    <div style="display: flex; margin-right: 10px;">
                                        <img src="img/tokens/sol.svg" alt="SOL" width="24" height="24" style="border-radius: 50%; margin-right: -8px; z-index: 2;">
                                        <img src="img/tokens/usdc.svg" alt="USDC" width="24" height="24" style="border-radius: 50%; z-index: 1;">
                                    </div>
                                    <div>SOL-USDC</div>
                                </div>
                            </td>
                            <td>Raydium</td>
                            <td>$125,432,788</td>
                            <td>$15,674,321</td>
                            <td>12.4%</td>
                            <td>$103.45</td>
                            <td class="text-success">+5.6%</td>
                            <td>
                                <button class="btn btn-outline-primary btn-sm" onclick="viewPoolDetails('sol-usdc')">
                                    查看详情
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center;">
                                    <div style="display: flex; margin-right: 10px;">
                                        <img src="img/tokens/btc.svg" alt="BTC" width="24" height="24" style="border-radius: 50%; margin-right: -8px; z-index: 2;">
                                        <img src="img/tokens/usdc.svg" alt="USDC" width="24" height="24" style="border-radius: 50%; z-index: 1;">
                                    </div>
                                    <div>BTC-USDC</div>
                                </div>
                            </td>
                            <td>Jupiter</td>
                            <td>$89,765,432</td>
                            <td>$7,654,321</td>
                            <td>8.2%</td>
                            <td>$68,452.12</td>
                            <td class="text-danger">-2.1%</td>
                            <td>
                                <button class="btn btn-outline-primary btn-sm" onclick="viewPoolDetails('btc-usdc')">
                                    查看详情
                                </button>
                            </td>
                        </tr>
                        <!-- 更多示例数据 -->
                    </tbody>
                </table>
            </div>

            <!-- 分页控件 -->
            <div class="pagination" style="display: flex; justify-content: center; margin-top: 20px;">
                <button class="btn btn-outline-secondary btn-sm" disabled>上一页</button>
                <span style="margin: 0 15px; line-height: 31px;">第 1 页，共 5 页</span>
                <button class="btn btn-outline-secondary btn-sm">下一页</button>
            </div>
        </main>
    </div>

    <!-- 池子详情弹窗 -->
    <div id="poolDetailsModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%; max-width: 900px; background: var(--card-bg); border-radius: var(--card-border-radius); padding: 20px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 id="modalPoolTitle">池子详情</h2>
                <button class="btn-icon" onclick="closePoolDetails()" style="background: none; border: none;">
                    <i style="font-size: 24px; color: var(--text-secondary);">×</i>
                </button>
            </div>
            <div id="poolDetailsContent">
                <!-- 详情内容将通过JavaScript动态填充 -->
            </div>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/pools.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/datetime.js"></script>
</body>
</html> 