<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>设置 - Solana MEV机器人</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- 侧边栏 -->
  <div class="sidebar">
    <div class="logo">
      <img src="img/logo.svg" alt="Solana Logo">
      <div class="logo-text">Solana MEV机器人</div>
    </div>
    
    <nav class="menu">
      <a href="index.html" class="menu-item">
        <i class="ri-dashboard-line"></i>
        仪表盘
      </a>
      <a href="memory.html" class="menu-item">
        <i class="ri-cpu-line"></i>
        内存监控
      </a>
      <a href="pools.html" class="menu-item">
        <i class="ri-water-flash-line"></i>
        流动性池
      </a>
      <a href="tokens.html" class="menu-item">
        <i class="ri-coin-line"></i>
        代币监控
      </a>
      <a href="trades.html" class="menu-item">
        <i class="ri-exchange-box-line"></i>
        交易记录
      </a>
      <a href="settings.html" class="menu-item active">
        <i class="ri-settings-line"></i>
        设置
      </a>
    </nav>
    
    <div class="system-status">
      <div class="system-status-indicator">
        <div class="status-dot running"></div>
        <div class="status-text text-success">运行中</div>
      </div>
      <div class="text-secondary text-sm">运行时间: <span class="uptime">3小时15分钟</span></div>
      <div class="control-buttons">
        <button class="btn btn-error btn-sm" id="stopBtn" title="停止系统">
          <i class="ri-stop-circle-line"></i> 停止
        </button>
        <button class="btn btn-primary btn-sm" id="startBtn" title="启动系统">
          <i class="ri-play-circle-line"></i> 启动
        </button>
      </div>
    </div>
  </div>

  <!-- 主内容区 -->
  <div class="main-content">
    <div class="top-bar">
      <button class="menu-toggle" id="menuToggle" title="打开菜单">
        <i class="ri-menu-line"></i>
      </button>
      <h1 class="page-title">系统设置</h1>
      <div class="top-bar-right flex items-center gap-4">
        <div class="current-date-time text-secondary text-sm">2023-11-26 15:32:45</div>
        <button class="btn btn-outline btn-icon" id="themeToggleBtn" title="切换主题">
          <i class="ri-moon-line"></i>
        </button>
        <button id="saveSettingsBtn" class="btn btn-primary" title="保存设置">
          <i class="ri-save-line"></i> 保存设置
        </button>
        <button id="resetSettingsBtn" class="btn btn-outline" title="重置设置">
          <i class="ri-restart-line"></i> 重置
        </button>
      </div>
    </div>
    
    <div class="content-area">
      <!-- 设置内容 -->
      <div class="settings-container">
        <!-- 设置选项卡 -->
        <div class="settings-tabs">
          <button class="tab-btn active" data-tab="general" title="通用设置">
            <i class="ri-settings-line"></i> 通用设置
          </button>
          <button class="tab-btn" data-tab="network" title="网络设置">
            <i class="ri-global-line"></i> 网络设置
          </button>
          <button class="tab-btn" data-tab="trading" title="交易设置">
            <i class="ri-exchange-dollar-line"></i> 交易设置
          </button>
          <button class="tab-btn" data-tab="security" title="安全设置">
            <i class="ri-shield-line"></i> 安全设置
          </button>
          <button class="tab-btn" data-tab="notifications" title="通知设置">
            <i class="ri-notification-line"></i> 通知设置
          </button>
          <button class="tab-btn" data-tab="advanced" title="高级设置">
            <i class="ri-terminal-line"></i> 高级设置
          </button>
        </div>

        <!-- 设置选项卡内容 -->
        <div class="settings-content">
          <!-- 通用设置 -->
          <div class="tab-content active" id="general">
            <div class="content-card">
              <div class="card-header">
                <div class="card-title">通用设置</div>
                <div class="card-subtitle">基本系统配置</div>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="systemName">系统名称</label>
                  <input type="text" id="systemName" class="form-input" value="Solana MEV机器人" placeholder="输入系统名称">
                </div>
                
                <div class="form-group">
                  <label for="language">界面语言</label>
                  <select id="language" class="form-select">
                    <option value="zh-CN" selected>简体中文</option>
                    <option value="en-US">English</option>
                    <option value="ko-KR">한국어</option>
                    <option value="ja-JP">日本語</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label for="timezone">时区设置</label>
                  <select id="timezone" class="form-select">
                    <option value="UTC+8" selected>（GMT+8）北京、香港、新加坡</option>
                    <option value="UTC+0">（GMT+0）伦敦、都柏林</option>
                    <option value="UTC-5">（GMT-5）纽约、多伦多</option>
                    <option value="UTC-8">（GMT-8）洛杉矶、温哥华</option>
                    <option value="UTC+9">（GMT+9）东京、首尔</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label for="theme">界面主题</label>
                  <select id="theme" class="form-select">
                    <option value="dark" selected>深色主题</option>
                    <option value="light">浅色主题</option>
                    <option value="system">跟随系统</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="autoRefresh" checked> 自动刷新数据
                  </label>
                </div>
                
                <div class="form-group">
                  <label for="refreshInterval">刷新间隔（秒）</label>
                  <input type="number" id="refreshInterval" class="form-input" value="30" min="5" max="300">
                </div>
              </div>
            </div>
          </div>
        
          <!-- 网络设置 -->
          <div class="tab-content" id="network">
            <div class="content-card">
              <div class="card-header">
                <div class="card-title">网络设置</div>
                <div class="card-subtitle">节点和网络配置</div>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="rpcEndpoint">RPC 端点</label>
                  <input type="text" id="rpcEndpoint" class="form-input" value="https://api.mainnet-beta.solana.com" placeholder="输入Solana RPC端点">
                </div>
                
                <div class="form-group">
                  <label for="fallbackRpc">备用 RPC 端点</label>
                  <input type="text" id="fallbackRpc" class="form-input" value="https://solana-api.projectserum.com" placeholder="输入备用RPC端点">
                </div>
                
                <div class="form-group">
                  <label for="connectionTimeout">连接超时（毫秒）</label>
                  <input type="number" id="connectionTimeout" class="form-input" value="10000" min="1000" max="60000">
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="useWebsocket" checked> 使用WebSocket连接
                  </label>
                </div>
                
                <div class="form-group">
                  <label for="networkEnvironment">网络环境</label>
                  <select id="networkEnvironment" class="form-select">
                    <option value="mainnet" selected>主网 (mainnet-beta)</option>
                    <option value="testnet">测试网 (testnet)</option>
                    <option value="devnet">开发网 (devnet)</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <button id="testConnectionBtn" class="btn btn-outline btn-sm" title="测试连接">
                    <i class="ri-radar-line"></i> 测试连接
                  </button>
                </div>
              </div>
            </div>
          </div>
        
          <!-- 交易设置 -->
          <div class="tab-content" id="trading">
            <div class="content-card">
              <div class="card-header">
                <div class="card-title">交易设置</div>
                <div class="card-subtitle">交易和套利配置</div>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="walletAddress">钱包地址</label>
                  <input type="text" id="walletAddress" class="form-input" placeholder="输入您的Solana钱包地址">
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="enableTrading" checked> 启用自动交易
                  </label>
                </div>
                
                <div class="form-group">
                  <label for="maxSlippage">最大滑点容忍度 (%)</label>
                  <input type="number" id="maxSlippage" class="form-input" value="1.0" min="0.1" max="10" step="0.1">
                </div>
                
                <div class="form-group">
                  <label for="gasMultiplier">Gas倍数</label>
                  <input type="number" id="gasMultiplier" class="form-input" value="1.5" min="1" max="5" step="0.1">
                </div>
                
                <div class="form-group">
                  <label for="minProfitThreshold">最小盈利阈值 (USDC)</label>
                  <input type="number" id="minProfitThreshold" class="form-input" value="5" min="0" step="0.1">
                </div>
                
                <div class="form-group">
                  <label for="maxTransactionAmount">单笔最大交易金额 (USDC)</label>
                  <input type="number" id="maxTransactionAmount" class="form-input" value="1000" min="1">
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="frontrunEnabled"> 启用抢跑交易
                  </label>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="sandwichEnabled"> 启用三明治交易
                  </label>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="arbitrageEnabled" checked> 启用套利交易
                  </label>
                </div>
              </div>
            </div>
          </div>
        
          <!-- 安全设置 -->
          <div class="tab-content" id="security">
            <div class="content-card">
              <div class="card-header">
                <div class="card-title">安全设置</div>
                <div class="card-subtitle">安全和访问控制</div>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="apiKey">API密钥</label>
                  <div class="input-group">
                    <input type="password" id="apiKey" class="form-input" value="●●●●●●●●●●●●●●●●" readonly>
                    <button id="regenerateApiKey" class="btn btn-outline btn-sm" title="重新生成API密钥">
                      <i class="ri-refresh-line"></i>
                    </button>
                    <button id="showApiKey" class="btn btn-outline btn-sm" title="显示/隐藏API密钥">
                      <i class="ri-eye-line"></i>
                    </button>
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="ipWhitelist">IP白名单</label>
                  <textarea id="ipWhitelist" class="form-textarea" placeholder="每行一个IP地址">127.0.0.1
192.168.1.1</textarea>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="enable2FA"> 启用两因素认证
                  </label>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="logFailedAttempts" checked> 记录失败的访问尝试
                  </label>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="autoLogout" checked> 自动登出（闲置15分钟后）
                  </label>
                </div>
                
                <div class="form-group">
                  <button id="changePasswordBtn" class="btn btn-outline btn-sm" title="修改密码">
                    <i class="ri-lock-line"></i> 修改密码
                  </button>
                </div>
              </div>
            </div>
          </div>
        
          <!-- 通知设置 -->
          <div class="tab-content" id="notifications">
            <div class="content-card">
              <div class="card-header">
                <div class="card-title">通知设置</div>
                <div class="card-subtitle">提醒和通知配置</div>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="enableNotifications" checked> 启用通知
                  </label>
                </div>
                
                <div class="form-group">
                  <label>通知渠道</label>
                  <div class="checkbox-group">
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="emailNotifications" checked> 电子邮件
                    </label>
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="telegramNotifications"> Telegram
                    </label>
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="discordNotifications"> Discord
                    </label>
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="smsNotifications"> 短信
                    </label>
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="emailAddress">电子邮件地址</label>
                  <input type="email" id="emailAddress" class="form-input" placeholder="输入接收通知的电子邮件">
                </div>
                
                <div class="form-group">
                  <label for="telegramBotToken">Telegram Bot Token</label>
                  <input type="text" id="telegramBotToken" class="form-input" placeholder="输入Telegram Bot Token">
                </div>
                
                <div class="form-group">
                  <label for="telegramChatId">Telegram Chat ID</label>
                  <input type="text" id="telegramChatId" class="form-input" placeholder="输入Telegram Chat ID">
                </div>
                
                <div class="form-group">
                  <label for="webhookUrl">Webhook URL (Discord等)</label>
                  <input type="text" id="webhookUrl" class="form-input" placeholder="输入Webhook URL">
                </div>
                
                <div class="form-group">
                  <label>通知事件</label>
                  <div class="checkbox-group">
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="notifySuccessfulTrades" checked> 成功交易
                    </label>
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="notifyFailedTrades" checked> 失败交易
                    </label>
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="notifySystemEvents" checked> 系统事件
                    </label>
                    <label class="form-label-checkbox">
                      <input type="checkbox" id="notifySecurityAlerts" checked> 安全警报
                    </label>
                  </div>
                </div>
                
                <div class="form-group">
                  <button id="testNotificationBtn" class="btn btn-outline btn-sm" title="发送测试通知">
                    <i class="ri-notification-line"></i> 发送测试通知
                  </button>
                </div>
              </div>
            </div>
          </div>
        
          <!-- 高级设置 -->
          <div class="tab-content" id="advanced">
            <div class="content-card">
              <div class="card-header">
                <div class="card-title">高级设置</div>
                <div class="card-subtitle">高级系统配置</div>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label for="maxMemoryUsage">最大内存使用量 (MB)</label>
                  <input type="number" id="maxMemoryUsage" class="form-input" value="2048" min="512" max="16384">
                </div>
                
                <div class="form-group">
                  <label for="maxConcurrentRequests">最大并发请求数</label>
                  <input type="number" id="maxConcurrentRequests" class="form-input" value="50" min="1" max="1000">
                </div>
                
                <div class="form-group">
                  <label for="logLevel">日志级别</label>
                  <select id="logLevel" class="form-select">
                    <option value="error">仅错误</option>
                    <option value="warn">警告</option>
                    <option value="info" selected>信息</option>
                    <option value="debug">调试</option>
                    <option value="trace">跟踪</option>
                  </select>
                </div>
                
                <div class="form-group">
                  <label for="maxLogSize">最大日志文件大小 (MB)</label>
                  <input type="number" id="maxLogSize" class="form-input" value="100" min="1" max="1000">
                </div>
                
                <div class="form-group">
                  <label for="logRetentionDays">日志保留天数</label>
                  <input type="number" id="logRetentionDays" class="form-input" value="30" min="1" max="365">
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="enableDebugMode"> 启用调试模式
                  </label>
                </div>
                
                <div class="form-group">
                  <label class="form-label-checkbox">
                    <input type="checkbox" id="enablePerformanceMetrics" checked> 收集性能指标
                  </label>
                </div>
                
                <div class="form-group">
                  <label for="customConfig">自定义配置 (JSON)</label>
                  <textarea id="customConfig" class="form-textarea" placeholder="{}">{
  "customSetting1": true,
  "customSetting2": "value"
}</textarea>
                </div>
                
                <div class="form-group">
                  <button id="exportConfigBtn" class="btn btn-outline btn-sm" title="导出配置">
                    <i class="ri-download-line"></i> 导出配置
                  </button>
                  <button id="importConfigBtn" class="btn btn-outline btn-sm" title="导入配置">
                    <i class="ri-upload-line"></i> 导入配置
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="js/utils.js"></script>
  <script src="js/settings.js"></script>
  
  <!-- 修改密码模态框 -->
  <div class="modal" id="changePasswordModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">修改密码</h2>
        <button id="closePasswordModalBtn" class="modal-close" title="关闭"><i class="ri-close-line"></i></button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="currentPassword">当前密码</label>
          <input type="password" id="currentPassword" class="form-input" placeholder="输入当前密码">
        </div>
        <div class="form-group">
          <label for="newPassword">新密码</label>
          <input type="password" id="newPassword" class="form-input" placeholder="输入新密码">
        </div>
        <div class="form-group">
          <label for="confirmPassword">确认新密码</label>
          <input type="password" id="confirmPassword" class="form-input" placeholder="再次输入新密码">
        </div>
      </div>
      <div class="modal-footer">
        <button id="cancelPasswordChangeBtn" class="btn btn-outline" title="取消">取消</button>
        <button id="confirmPasswordChangeBtn" class="btn btn-primary" title="确认修改">确认修改</button>
      </div>
    </div>
  </div>
</body>
</html> 